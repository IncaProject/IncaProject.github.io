<html><head><title>Inca::Process</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="black with blue on white" type="text/css" href="../_black_with_blue_on_white.css" media="all" >
<link rel="alternate stylesheet" title="black with magenta on white" type="text/css" href="../_black_with_magenta_on_white.css" media="all" >
<link rel="alternate stylesheet" title="black with cyan on white" type="text/css" href="../_black_with_cyan_on_white.css" media="all" >
<link rel="alternate stylesheet" title="white with purple on black" type="text/css" href="../_white_with_purple_on_black.css" media="all" >
<link rel="alternate stylesheet" title="white with navy blue on black" type="text/css" href="../_white_with_navy_blue_on_black.css" media="all" >
<link rel="alternate stylesheet" title="grey with green on black" type="text/css" href="../_grey_with_green_on_black.css" media="all" >
<link rel="alternate stylesheet" title="white with green on grey" type="text/css" href="../_white_with_green_on_grey.css" media="all" >
<link rel="alternate stylesheet" title="black with green on grey" type="text/css" href="../_black_with_green_on_grey.css" media="all" >
<link rel="alternate stylesheet" title="grey with green on white" type="text/css" href="../_grey_with_green_on_white.css" media="all" >
<link rel="alternate stylesheet" title="indexless black with blue on white" type="text/css" href="../_indexless_black_with_blue_on_white.css" media="all" >
<link rel="alternate stylesheet" title="indexless white with purple on black" type="text/css" href="../_indexless_white_with_purple_on_black.css" media="all" >
<link rel="alternate stylesheet" title="indexless white with green on grey" type="text/css" href="../_indexless_white_with_green_on_grey.css" media="all" >
<link rel="alternate stylesheet" title="indexless grey with green on white" type="text/css" href="../_indexless_grey_with_green_on_white.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008005 at Thu Jul 10 20:02:33 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CLASS_METHODS'>CLASS METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new(_%25Options_)'>new( %Options )</a>
    <li class='indexItem indexItem2'><a href='#getCheckPeriod(_)'>getCheckPeriod( )</a>
    <li class='indexItem indexItem2'><a href='#getCommandLine(_)'>getCommandLine( )</a>
    <li class='indexItem indexItem2'><a href='#getExceededLimits(_)'>getExceededLimits( )</a>
    <li class='indexItem indexItem2'><a href='#getExitCode(_)'>getExitCode( )</a>
    <li class='indexItem indexItem2'><a href='#getLimits(_)'>getLimits( )</a>
    <li class='indexItem indexItem2'><a href='#getStderr(_)'>getStderr( )</a>
    <li class='indexItem indexItem2'><a href='#getStdout(_)'>getStdout( )</a>
    <li class='indexItem indexItem2'><a href='#getUsage(_)'>getUsage( )</a>
    <li class='indexItem indexItem2'><a href='#hasCheckPeriod(_)'>hasCheckPeriod( )</a>
    <li class='indexItem indexItem2'><a href='#hasExceededLimits(_)'>hasExceededLimits( )</a>
    <li class='indexItem indexItem2'><a href='#hasLimits(_)'>hasLimits( )</a>
    <li class='indexItem indexItem2'><a href='#run(_)'>run( )</a>
    <li class='indexItem indexItem2'><a href='#setCheckPeriod(_%24secs_)'>setCheckPeriod( $secs )</a>
    <li class='indexItem indexItem2'><a href='#setCommandLine(_%24executable_n_args_)'>setCommandLine( $executable_n_args )</a>
    <li class='indexItem indexItem2'><a href='#setLimits(_%24limits_)'>setLimits( $limits )</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#CAVEATS%2FWARNINGS'>CAVEATS/WARNINGS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Inca::Process - Run a process but abort if process exceeds specified resources</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use Inca::Process;
  use Inca::Process::Usage;

  my $proc = new Inca::Process();
  my $limits = new Inca::Process::Usage();
  $limits-&#62;setWallClockTime( 10 );
  $proc-&#62;setLimits( $limits );
  $proc-&#62;setCommandLine( &#34;echo hello&#34; );
  $proc-&#62;run();
  $proc-&#62;getUsage();
  my $stdout = $proc-&#62;getStdout();
  print &#34;The value from stdout was $stdout\n&#34;;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Execute one process and monitor its system usage (memory, CPU time, and wall clock time). If the system usage is exceeded, the process will get killed. The system usage of the process and it&#39;s children are available after execution through the getUsage() call.</p>

<p>Note, that usage is calculated from either getrusage or a &#39;ps&#39; call during execution. However, on some systems, getrusage does not report memory (e.g., on linux). In this case, memory will be determined from &#39;ps&#39; if the check period is small enough to be called during process execution.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CLASS_METHODS"
>CLASS METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new(_%Options_)"
>new( %Options )</a></h2>

<p>Class constructor which returns a new Inca::Process object. The constructor may be called with the following attributes.</p>

<blockquote>
<p><b>Options</b>:</p>

<dl>
<dt><a name="limits"
>limits</a></dt>

<dd>
<p>An object of type Inca::Process::Usage which indicates the maximum resource utilization this reporter can use. If any limit is exceeded, the reporter will be killed.</p>

<dt><a name="checkPeriod"
>checkPeriod</a></dt>

<dd>
<p>A positive integer indicating the period in seconds of which to check for resource limits [default: 5]</p>

<dt><a name="tmpDir"
>tmpDir</a></dt>

<dd>
<p>A path to a directory where temporary files can be placed.</p>
</dd>
</dl>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getCheckPeriod(_)"
>getCheckPeriod( )</a></h2>

<p>Get the period for how often to check the process for exceeding its limits.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>A positive integer indicating the period in seconds of which to check for resource limits.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getCommandLine(_)"
>getCommandLine( )</a></h2>

<p>Get the process to run on the command-line.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>A string indicating an executable and its arguments to be executed. E.g., myprocess -x 20 -y 50 -file big.dat.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getExceededLimits(_)"
>getExceededLimits( )</a></h2>

<p>Should be called after hasExceededLimits has returned true to return the string representation of the exceeded limits.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>A string the process limits that were exceeded.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getExitCode(_)"
>getExitCode( )</a></h2>

<p>Return the exit code of the process.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>An integer containing the exit code of the process.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getLimits(_)"
>getLimits( )</a></h2>

<p>Get the maxiumum system usage or limits for the process.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>An object of type Inca::Process::Usage which indicates the maximum resource utilization this process can use.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getStderr(_)"
>getStderr( )</a></h2>

<p>Return the stderr returned by the process as a string.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>A string containing the contents of stderr for the executed process.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getStdout(_)"
>getStdout( )</a></h2>

<p>Return the stdout returned by the process as a string.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>A string containing the contents of stdout for the executed process.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="getUsage(_)"
>getUsage( )</a></h2>

<p>Return the system usage of the process.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>An object of type Inca::Process::Usage indicating the system usage of the process.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="hasCheckPeriod(_)"
>hasCheckPeriod( )</a></h2>

<p>Returns true if a check period has been specified and it&#39;s value is greater than 0.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>Returns true if a check period has been specified and it&#39;s value is greater than 0; otherwise returns false</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="hasExceededLimits(_)"
>hasExceededLimits( )</a></h2>

<p>Return true if the process was killed during execution because it exceeded its limits. Otherwise, return false.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="hasLimits(_)"
>hasLimits( )</a></h2>

<p>Verify whether resource limits have been set for the object.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>Returns true if a limits value has been set; otherwise returns false.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="run(_)"
>run( )</a></h2>

<p>Execute the specified process. If a resource limit is specified, then the process will be periodically checked every &#34;check period&#34; seconds and will be killed if any resource has been exceeded.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>Returns 1 if process was started without errors; otherwise returns 0.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="setCheckPeriod(_$secs_)"
>setCheckPeriod( $secs )</a></h2>

<p>Set the period for how often to check the process for exceeding its limits.</p>

<blockquote>
<p><b>Arguments</b>:</p>

<dl>
<dt><a name="secs"
>secs</a></dt>

<dd>
<p>A positive integer indicating the period in seconds of which to check for resource limits.</p>
</dd>
</dl>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="setCommandLine(_$executable_n_args_)"
>setCommandLine( $executable_n_args )</a></h2>

<p>Set the process to run on the command-line.</p>

<blockquote>
<p><b>Arguments</b>:</p>

<dl>
<dt><a name="executable_n_args"
>executable_n_args</a></dt>

<dd>
<p>A string indicating an executable and its arguments to be executed. E.g., myprocess -x 20 -y 50 -file big.dat.</p>
</dd>
</dl>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="setLimits(_$limits_)"
>setLimits( $limits )</a></h2>

<p>Set the maxiumum system usage or limits for the process. The limits are based on one or more of the following resources: CPU time, wall clock time, memory. If any limit is exceeded, the process will be killed.</p>

<blockquote>
<p><b>Arguments</b>:</p>

<dl>
<dt><a name="limits"
>limits</a></dt>

<dd>
<p>An object of type Inca::Process::Usage which indicates the maximum resource utilization this process can use.</p>
</dd>
</dl>
</blockquote>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Shava Smallen &#60;ssmallen@sdsc.edu&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAVEATS/WARNINGS"
>CAVEATS/WARNINGS</a></h1>

<p>This module utilizes temporary files to store stdout and stderr.</p>

<p>Cannot be used to execute more than one command-line; use one object per process.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
