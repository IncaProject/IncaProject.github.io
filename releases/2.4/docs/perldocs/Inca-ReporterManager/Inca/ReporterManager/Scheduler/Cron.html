<html><head><title>Inca::ReporterManager::Scheduler::Cron</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="black with blue on white" type="text/css" href="../../../_black_with_blue_on_white.css" media="all" >
<link rel="alternate stylesheet" title="black with magenta on white" type="text/css" href="../../../_black_with_magenta_on_white.css" media="all" >
<link rel="alternate stylesheet" title="black with cyan on white" type="text/css" href="../../../_black_with_cyan_on_white.css" media="all" >
<link rel="alternate stylesheet" title="white with purple on black" type="text/css" href="../../../_white_with_purple_on_black.css" media="all" >
<link rel="alternate stylesheet" title="white with navy blue on black" type="text/css" href="../../../_white_with_navy_blue_on_black.css" media="all" >
<link rel="alternate stylesheet" title="grey with green on black" type="text/css" href="../../../_grey_with_green_on_black.css" media="all" >
<link rel="alternate stylesheet" title="white with green on grey" type="text/css" href="../../../_white_with_green_on_grey.css" media="all" >
<link rel="alternate stylesheet" title="black with green on grey" type="text/css" href="../../../_black_with_green_on_grey.css" media="all" >
<link rel="alternate stylesheet" title="grey with green on white" type="text/css" href="../../../_grey_with_green_on_white.css" media="all" >
<link rel="alternate stylesheet" title="indexless black with blue on white" type="text/css" href="../../../_indexless_black_with_blue_on_white.css" media="all" >
<link rel="alternate stylesheet" title="indexless white with purple on black" type="text/css" href="../../../_indexless_white_with_purple_on_black.css" media="all" >
<link rel="alternate stylesheet" title="indexless white with green on grey" type="text/css" href="../../../_indexless_white_with_green_on_grey.css" media="all" >
<link rel="alternate stylesheet" title="indexless grey with green on white" type="text/css" href="../../../_indexless_grey_with_green_on_white.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.008005 at Thu Jul  3 20:07:03 2008 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#CLASS_METHODS'>CLASS METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new(_%24args%2C_%24check_period%2C_%24credentials%2C_%24depots%2C_%24depot_timeout%2C_%24reporter_cache%2C_%24rim_path%2C_%24tmpdir_)'>new( $args, $check_period, $credentials, $depots, $depot_timeout, $reporter_cache, $rim_path, $tmpdir )</a>
    <li class='indexItem indexItem2'><a href='#isRunning(_)'>isRunning( )</a>
    <li class='indexItem indexItem2'><a href='#start(_)'>start( )</a>
    <li class='indexItem indexItem2'><a href='#stop(_)'>stop( )</a>
    <li class='indexItem indexItem2'><a href='#submit(_%24action%2C_%40configs_)'>submit( $action, @configs )</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#CAVEATS%2FWARNINGS'>CAVEATS/WARNINGS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Inca::ReporterManager::Scheduler::Cron - Executes reporters on a periodic schedule</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use Inca::ReporterManager::Scheduler::Cron;
  use Inca::Config::Suite::SeriesConfig;
  use Inca::ReporterManager::ReporterCache;
  use Cwd;
  use File::Spec;
  my $file_depot = &#34;file://&#34; . File::Spec-&#62;catfile(getcwd(), &#34;depot.$$&#34;);
  my $cron = { min =&#62; &#34;0-59/2&#34; }; # execute every 2 mins
  my $sched = new Inca::ReporterManager::Scheduler::Cron( 
                    1,
                    [ $file_depot ],
                    120,
                    &#34;resourceA&#34;,
                    new Inca::ReporterManager::ReporterCache( &#39;t&#39;,
                      errorReporterPath =&#62; &#34;bin/inca-null-reporter&#34; 
                    ),
                    undef, 
                    $cron );
  $sched-&#62;start();
  my $config = new Inca::Config::Suite::SeriesConfig();
  $config-&#62;setName( &#34;echo_report&#34; );
  $config-&#62;setVersion( &#34;1&#34; );
  $config-&#62;setPath( getcwd() . &#34;/t/echo_report&#34; );
  $config-&#62;setContext( $config-&#62;getName() );
  $sched-&#62;submit( &#39;add&#39;, $config );
  # ...
  $sched-&#62;stop();</pre>

<p>A scheduler for the reporter manager which executes reporters on a periodic schedule. It takes as its parameter a cron specification and uses the Schedule::Cron module from CPAN to handle the scheduling.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CLASS_METHODS"
>CLASS METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new(_$args,_$check_period,_$credentials,_$depots,_$depot_timeout,_$reporter_cache,_$rim_path,_$tmpdir_)"
>new( $args, $check_period, $credentials, $depots, $depot_timeout, $reporter_cache, $rim_path, $tmpdir )</a></h2>

<p>Class constructor which returns a new Inca::ReporterManager::Scheduler::Cron object. The constructor must be called with the following arguments.</p>

<blockquote>
<p><b>Arguments</b>:</p>

<dl>
<dt><a name="args"
>args</a></dt>

<dd>
<p>A reference to a hash array containing the schedulers configuration inforamtion</p>

<dt><a name="check_period"
>check_period</a></dt>

<dd>
<p>A positive integer indicating the period in seconds of which to check the reporter for exceeding resource limits.</p>

<dt><a name="credentials"
>credentials</a></dt>

<dd>
<p>A reference to a hash array containing the credential information.</p>

<dt><a name="depots"
>depots</a></dt>

<dd>
<p>A reference to an array of depot uris. The report will be sent to the first depot in the list. If the first depot is unreachable, the next depots in the list will be tried.</p>

<dt><a name="depot_timeout"
>depot_timeout</a></dt>

<dd>
<p>A positive integer indicating the period in seconds of which to time out a send of a report to the depot.</p>

<dt><a name="reporter_cache"
>reporter_cache</a></dt>

<dd>
<p>An object of type Inca::ReporterManager::ReporterCache which is used to map reporter uris to a local path.</p>

<dt><a name="rim_path"
>rim_path</a></dt>

<dd>
<p>A string containing the path to the reporter-instance-manager program.</p>

<dt><a name="tmpdir"
>tmpdir</a></dt>

<dd>
<p>A string containing a path to a temporary file space that Inca can use while executing reporters</p>
</dd>
</dl>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="isRunning(_)"
>isRunning( )</a></h2>

<p>Check if the cron scheduler is running.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>Returns true if the cron scheduler is running and false otherwise.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="start(_)"
>start( )</a></h2>

<p>Starts cron scheduler up.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>Returns true if there were no errors starting the scheduler; returns false otherwise.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="stop(_)"
>stop( )</a></h2>

<p>Stops cron scheduler.</p>

<blockquote>
<p><b>Returns</b>:</p>

<p>Returns true if there were no errors starting the scheduler; returns false otherwise.</p>
</blockquote>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="submit(_$action,_@configs_)"
>submit( $action, @configs )</a></h2>

<p>Accepts an action (currently only &#39;add&#39;) and any number of reporters. These reporters will then be executed in a sequential order.</p>

<blockquote>
<p><b>Arguments</b>:</p>

<dl>
<dt><a name="action"
>action</a></dt>

<dd>
<p>A string containing an action (e.g., add, delete) pertaining to the group of reporters.</p>

<dt><a name="configs"
>configs</a></dt>

<dd>
<p>An array of Inca::Config::Suite::SeriesConfig objects.</p>
</dd>
</dl>

<p><b>Returns</b>:</p>

<p>Returns true if at least one reporter is executed; otherwise returns false.</p>
</blockquote>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Shava Smallen &#60;ssmallen@sdsc.edu&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAVEATS/WARNINGS"
>CAVEATS/WARNINGS</a></h1>

<p>No known problems.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../../Inca/ReporterManager/Scheduler.html" class="podlinkpod"
>Inca::ReporterManager::Scheduler</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
